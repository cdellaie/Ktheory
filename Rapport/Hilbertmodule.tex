\section{Hilbert modules}

\subsection{Definitions}

The $KK$-theory of Kasparov can be defined using the theory of Hilbert modules. We present in this section the basic facts about Hilbert modules that we will need.

\begin{definition}
Let $A$ be a $C^*$-algebra. A pre-Hilbert $A$-module is a $\C$-linear space which is a right $A$-module $E$ endowed with a sesquilinear function $\langle\cdot, \cdot \rangle : E\times E \rightarrow A$ satisfying :
\begin{itemize}
\item[$\bullet$] $(\lambda x)a = \lambda (xa) = x(\lambda a)$ for all $\lambda\in\C$, $x\in E$ and $a\in A$,
\item[$\bullet$] $\langle x, ya\rangle = \langle x,y\rangle a $ for all $x,y\in E$ and $a\in A$,
\item[$\bullet$] $\langle x,y\rangle^* = \langle y,x\rangle$ for all $x,y\in E$,
\item[$\bullet$] $\langle x ,x\rangle \geq 0 $ and if $\langle x,x\rangle = 0$, then $x=0$, for all $x\in E$.
\end{itemize}
For $x\in E$, we define $||x|| = ||\langle x,x\rangle ||^{\frac{1}{2}}$. It is a norm on $E$ \cite{Lance}.\\

A $A$-Hilbert module $(E,\langle \cdot,\cdot \rangle)$ is a pre-Hilbert module which is complete for the norm $||\cdot ||$ defined above. $E$ is called a full Hilbert module if the linear span of $\{ <x,y> : x,y\in E\}$ is dense in $A$.
\end{definition}

The same definition exists for left-Hilbert modules. Usually, we will omit to precise right or left, as most of our modules will be right modules. Through misuse of language, we will call the sesquilinear function $\langle \cdot,\cdot \rangle$ an inner product. If the inner product satisfies all the conditions for $E$ to be a pre-Hilbert module but the last (if $\langle x,x\rangle = 0$, then $x=0$, for all $x\in E$), we call $E$ a semi-pre-Hilbert module.

\begin{Expl} If $J$ is any closed right ideal in $A$, $J$ is naturally a $A$-Hilbert module with respect to the inner product $\langle a, b \rangle = a^* b$. In particular, $A$ is a $A$-Hilbert module.
\end{Expl}

\begin{Expl}
If $\{E_j\}_{j\in J}$ is a finite of countable family of $A$-Hilbert modules, define the direct sum as
\[\bigoplus_{j\in J} E_j = \{(x_j) : x_j\in E_j \text{ s.t. } \sum_j \langle x_j,x_j\rangle_{E_j} \text{ converges in } A\}\]
with the inner product $\langle x,y \rangle = \sum_{j\in J} \langle x_j, y_j\rangle_{E_j} $. It is a $A$-Hilbert module. As a particular case, we get a central example $H_A$ called the \textbf{standard $A$-Hilbert module}. It is obtained as the direct sum of the family $\{A\}_{j\in \N}$ where each $A$ is seen as a $A$-Hilbert module.
\end{Expl}

Let $E$ be a semi-pre-Hilbert $A$-module. If the sesquilinear function $\langle \cdot ,\cdot \rangle$ has isotropy, i.e. there exists a non-zero $x\in E$ such that $\langle x,x\rangle =0$, we can divide out the null vector. Indeed, $N= \{x\in E : \langle x,x\rangle = 0\}$ is a sub-$A$-module of $A$, and $\langle x+ N,y+N\rangle := \langle x,y\rangle $ defines an inner product on $E/N$. The separation-completion of $E$ will refer to the Hilbert $A$-module obtained as the closure of $E/N$ with respect to this inner product. 

\begin{definition}
Let $E$ and $F$ be two $A$-Hilbert modules. The set of adjoinable operators $\mathcal L_A(E,F)$ is defined as the set of maps $T : E\rightarrow F $ such that there exists a map $T^* : F\rightarrow E$ satisfying 
\[\langle Tx, y \rangle = \langle x ,T^* y\rangle\quad \forall x\in E,\forall y\in F.\]
The operator $T^*$ is called the adjoint of $T$.
\end{definition}

\begin{rk}
Notice that any adjoinable operator is automatically a module map, and a linear map. Indeed, $\langle T(xa),y\rangle = \langle xa,T^* y \rangle = a^* \langle x, T^* y\rangle =a^*\langle Tx,  y\rangle =  \langle a(Tx),y \rangle$. It is also automatically bounded
\end{rk}

It turns out that $\mathcal L_A(E,F)$ with the operator norm is a $C^*$-algebra \cite{Lance}. For $x\in E,y\in F$, define $\theta_{x,y}\in\mathcal L_A,(F,E)$ as $\theta_{x,y}(z) = x\langle y,z\rangle$. It is indeed adjoinable as $\theta_{x,y}^*=\theta_{y,x}$.

\begin{definition}
Let $E$ and $F$ be two $A$-Hilbert modules. The set of compact operators $\mathfrak K_A(F,E)$ is defined as the closure for the operator norm of the linear span of $\{\theta_{x,y} : x\in E,y\in F\}$. It is a closed ideal in $\mathcal L_A(F,E)$.\cite{Lance}
\end{definition}

\begin{Expl}
(a) If $E=A$, $\mathcal L_A(A) \cong \mathcal M (A)$ and $\mathfrak K_A(A) \cong A$.\\
(b) If $E=H_A$, $\mathfrak K_A(H_A) \cong A\otimes \mathfrak K$.\\
(c) For any Hilbert $A$-module, $\mathcal L_A(E) \cong \mathcal M(\mathfrak K_A(E))$.
\end{Expl}

% Stabilization lemma !

The following result states that any countably generated Hilbert module can be embedded into the standard Hilbert module.

\begin{thm}[Stabilization]
Let $E$ be a countably generated Hilbert $A$-module, then there is an isomorphism of Hilbert $A$-module $E\oplus H_A \cong H_A$.
\end{thm}

As a corollary, we get that for any countably generated Hilbert $A$-module, there exists a projection $p\in \mathcal L_A(H_A)$ such that $E\cong p H_A$.

\subsection{Tensor product of Hilbert modules}

Let $E$ a Hilbert $A$-module, $F$ a Hilbert $B$-module and $\phi : A \rightarrow \mathcal L_B(F)$ a $*$-homomorphism. The following section recalls the construction of the tensor product of $E$ and $F$ over $\phi$, denoted $E\otimes_\phi F$.\\

We can provide $F$ with the structure of a left $A$-module via $\phi$ : $a\cdot \eta := \phi(a)\eta$ for $a\in A,\eta\in F$. Consider the algebraic tensor product of $A$-module $E\odot F$, with the structure of right $B$ module given by $x\otimes y \cdot b = x\otimes (yb)$. Define on $E\odot F$ the following sesquilinear function : $\langle x \otimes y , x'\otimes y'\rangle := \langle y, \phi(\langle x, x'\rangle)y'\rangle_F $. It satisfies the condition for $(E\odot F,\langle \cdot , \cdot \rangle )$ to be a semi-pre-Hilbert $B$-module.

\begin{definition}
The Hilbert $B$-module $E\otimes_\phi F$ is defined as the competion-separation of the semi-pre-Hilbert $B$-module $E\odot F$ with respect to $\langle \cdot , \cdot \rangle$. It is called the interior tensor product of $E$ and $F$. When $F=B$, it can be called the push forward of $E$ along $\phi$.
\end{definition} 

\begin{Expl}
The standard Hilbert $A$-module satisfies $H_A \cong H\otimes_\phi A$, which can be used to prove that $\mathfrak K_A(H_A) \cong A\otimes \mathfrak K$. Here $\phi : \C\rightarrow \mathcal M(A)$ maps $z\in \C$ to $z1_{\mathcal M(A)}$.
\end{Expl}

This tensor product operation enjoys functorial properties that will be useful for us. 

\begin{prop}\cite{Lance}
Let $T\in\mathcal L_A(E)$. The map $x\otimes y \mapsto (Tx)\otimes y$ extends to a adjoinable operator $\phi_*(T)\in\mathcal L_B(E\otimes_\phi F)$, and this defines a unital $*$-homomorphism 
\[\phi_*\left\{\begin{array}{rcl} \mathcal L_A(E) & \rightarrow & \mathcal L_B(E\otimes_\phi F) \\ T & \mapsto & \phi_*(T)\end{array}\right.\]
which is injective is $\phi$ is. We will write $\phi_*(T) := T\otimes_\phi 1$ or even $T\otimes 1$. 
\end{prop} 

\begin{rk}
The condition $\phi_*(\mathfrak K_A(E))\subset \mathfrak K_B(E\otimes_\phi F)$ holds when $\phi(A)\subset \mathfrak K_B(F)$ \cite{Lance}, and this condition will be satisfied when we will consider the push-forward with respect to $\phi : A\rightarrow B$ as $\mathfrak K_B(B) \cong B$. 
\end{rk}

\begin{rk}\label{isometry}
When we look at a $*$-homomorphism $\phi : A\rightarrow B$, we always have an isometry $V\in \mathcal L_B ( H_A\otimes_\phi B , H_B)$ defined on simple tensors as $(x_j)_j\otimes b \mapsto (\phi(x_j)b)_j$. Indeed, this map extends linearly to $H_A \odot B$, and if $x = (x_j)$ and $x'=(x'_j)$ are in $H_A$ : 
\[\langle V (x\otimes b) , V(x'\otimes b')\rangle = b^* \sum_j \phi(x_j)^* \phi(x'_j) \  b' = b^*\phi(\langle x, x' \rangle)b' = \langle x\otimes b , x'\otimes b' \rangle . \] % Determiner V^* 
This isometry can be used to explicitely describe the projection and the isomorphism appearing in the stabilization theorem in this particular example. Indeed $p = VV^*\in\mathcal L_B(H_B)$ is a projection such that $p H_A \cong H_A\otimes_\phi B $.\\

Moreover, for $T\in \mathcal L_B(H_A\otimes_\phi B)$, $Ad_V(T) = VTV^*$ defines a $*$-homomorphism $Ad_V : \mathcal L_B(H_A\otimes_\phi B)\rightarrow \mathcal L_B(H_B)$ such that $Ad_V(\mathfrak K_B(H_A\otimes_\phi B))\subseteq \mathfrak K_B(H_B)$. Indeed, notice that 
\[V\theta_{\xi,\xi'}V^* = \theta_{V\xi,V\xi'}\]
for every $\xi,\xi'\in H_A\otimes_\phi B$.\\

Composing with $\phi_*$, we get a $*$-homomorphism $\mathcal L_A(H_A)\rightarrow \mathcal L_B(H_B); T\mapsto V(T\otimes_\phi 1)V^*$ respecting compact operators in a natural way : if $\theta = (a_{ij})\in A\otimes\mathfrak K$, then $V(T\otimes_\phi 1)V^* = (\phi(a_{ij}))\in B\otimes\mathfrak K$.  
\end{rk}

We recall the following generalized theorem of Stinespring in the setting of Hilbert module. It was proven by G. Kasparov in \cite{KasparovStinespring}.

\begin{thm}[Kasparov-Stinespring \cite{KasparovStinespring}] \label{KasparovStinespring} Let $A$ and $B$ be $C^*$-algebras with $A$ separable and $B$ unital. Let $\Psi : A \rightarrow B$ be a completely positive map. Then, there exists a countably generated Hilbert $B$-module $E$ and a $*$-homomorphism $\pi : A \rightarrow \mathcal L_B (B\oplus E)$ such that
\[\Psi( a) = P \pi(a) P \quad \forall a\in A,\]
where $P\in\mathcal L_B(B\oplus E)$ is the projection on the $B$ factor. The statement remains true when $B$ is non unital by replacing $\mathcal L_B (B\oplus E)$ by $\mathcal L_{\tilde B} (\tilde{B}\oplus E)$.
\end{thm}
