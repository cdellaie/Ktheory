\section{Controlled $K$-theory}

In this section, we define controlled $K$-theory in a little more generality than the functor defined in \cite{OY2}, so that the propagation can be indexed by compact subsets of an Ã©tale groupoid instead of positive real numbers.\\

\begin{definition}
A $C^*$-algebra $A$ is said to be filtered if there exists a partially ordered semigroup $\mathcal E$ and, for every $E\in \mathcal E$, linear subspaces $A_E$ of $A$ such that :\\
\begin{itemize}
\item[$\bullet$] if $E \leq E'$, then $A_E\subset A_{E'}$, and the inclusion $\phi_E^{E'}: A_E\hookrightarrow A_{E'}$ induces an inductive system of linear spaces,
\item[$\bullet$] $A_E$ is stable by involution,
\item[$\bullet$] for all $E,E'\in\mathcal E$, $A_E.A_{E'}\subset A_{EE'}$,
\item[$\bullet$] the union of subspaces is dense in $A$, i.e. $\overline{\cup_{E\in\mathcal E}A_E} = \varinjlim A_E = A$.
\item[$\bullet$] if $A$ is unital, we impose that $1\in A_E,\forall E\in\mathcal E$.\\
\end{itemize}
\end{definition}

\subsection{Almost unitaries and almost projections}

\begin{definition}
Let $(A,\mathcal E)$ be a unital filtered $C^*$-algebra. Let $\varepsilon\in(0,\frac{1}{4})$ and $E\in \mathcal E$ a controlled subset. The set of $\varepsilon$-$E$-unitaries is the set 
\[U^{\varepsilon, E}(A)= \{u\in A_E \text{ s.t. } ||u^*u-1||<\varepsilon\text{ and }||uu^*-1||<\varepsilon \}\]
and the set $\varepsilon$-$E$-projections is the set 
\[P^{\varepsilon, E}(A)= \{p\in A_E \text{ s.t. } p=p^*\text{ and }||p^2-p||<\varepsilon \}.\]
We will use the notation $P_n^{\varepsilon, E}(A)$ for $P^{\varepsilon, E}(M_n(A))$, and $U_n^{\varepsilon, E}(A)$ for $U^{\varepsilon, E}(M_n(A))$. Also, $P_\infty^{\varepsilon, E}(A)$ is the algebraic inductive limit of the $P_n^{\varepsilon, E}(A)$ under the natural inclusions
\[\left\{\begin{array}{rcl}
	P^{\varepsilon,E}_n(A) 		& \rightarrow	& P^{\varepsilon,E}_{n+1}(A)\\ 
	p 		& \mapsto 	& \begin{pmatrix}p& 0 \\ 0&0 \end{pmatrix}
\end{array}\right.\]
and $U_\infty^{\varepsilon, E}(A)$ is the algebraic inductive limit of the $U_n^{\varepsilon, E}(A)$ under the natural inclusions
\[\left\{\begin{array}{rcl}
	U^{\varepsilon,E}_n(A) 		& \rightarrow	& U^{\varepsilon,E}_{n+1}(A)\\ 
	u 		& \mapsto 	& \begin{pmatrix}u & 0 \\ 0& 1 \end{pmatrix}
\end{array}\right. .\]
\end{definition}

In order to define controlled $K$-groups, define the following equivalence relations on $P^{\varepsilon, E}_\infty(A)\times \N$ and $U^{\varepsilon,E}_n(A)$.
\begin{itemize}

\item[$\bullet$] $(p,l) \sim (q,l')$ if there exists a homotopy of almost projections $h\in P^{\varepsilon, E}_\infty(A[0,1])$ and an integer $k$ such that 
\[h(0)=\begin{pmatrix} p & 0 \\ 0 & 1_{k+l'} \end{pmatrix} \text{ and }
h(1)=\begin{pmatrix} q & 0 \\ 0 & 1_{k+l} \end{pmatrix}\]
\item[$\bullet$] $u \sim v$ if there exists a homotopy of almost unitaries $h\in U^{3\varepsilon, E\circ E}_\infty(A[0,1])$ and an integer $k$ such that $h(0)= u \text{ and }h(1)=v$.\\
\end{itemize}

Denote $[(p,l)]_{\varepsilon,E}$ and $[u]_{\varepsilon,E}$ for the equivalence classes of almost-projections and almost-unitaries. Then, the same proof as \cite{OY2} shows that $[p,l]_{\varepsilon,E}+[q,l']_{\varepsilon,E}=[diag(p,q),l+l']_{\varepsilon,E}$ and $[u]_{\varepsilon,E}+[v]_{\varepsilon,E}=[diag(u,v)]_{\varepsilon,E}$ induces a group law on the equivalence classes, that we denote $K_0^{\varepsilon,E}(A) = P^{\varepsilon, E}_\infty(A)\times \N / \sim$ and $K_1^{\varepsilon,E}(A) = U^{\varepsilon, E}_\infty(A) / \sim$.\\

\begin{definition}
The controlled $K$-theory of a filtered $C^*$-algebra $(A,\mathcal E)$ is the family of abelian groups $\hat K_0(A) = (K_0^{\varepsilon,E}(A))_{\varepsilon\in (0,\frac{1}{4}),E\in\mathcal E}$ and $\hat K_1(A) = (K_1^{\varepsilon,E}(A))_{\varepsilon\in (0,\frac{1}{4}),E\in\mathcal E}$ defined above.\\
\end{definition}

We defined canonical inclusion morphisms : if $\varepsilon, \varepsilon'\in (0,\frac{1}{4})$ and $E,E'\in\mathcal E$ such that $\varepsilon < \varepsilon'$ and $E \leq E'$, the natural inclusion $K_*^{\varepsilon,E}(A)\hookrightarrow K_*^{\varepsilon',E'}(A)$ is denoted by $\iota_{\varepsilon,E}^{\varepsilon',E'}$. Notive that $\iota_{\varepsilon',E'}^{\varepsilon'',E''}\circ\iota_{\varepsilon,E}^{\varepsilon',E'}=\iota_{\varepsilon,E}^{\varepsilon'',E''}$ when this expression makes sense.\\

One has also forgetful inclusions $\iota_{\varepsilon,E} : K_*^{\varepsilon,E}\rightarrow K_*(A)$, and 
$\iota_{\varepsilon',E'}\circ\iota_{\varepsilon,E}^{\varepsilon',E'}=\iota_{\varepsilon, E}$ holds.\\

\subsection{Quantitative objects}

If $\mathcal E$ is a coarse structure, define $\mathcal{\tilde E} = (0,\frac{1}{4})\times \mathcal E$. It a POSET with respect to the partial order $(\varepsilon,E)<(\varepsilon', E')$ if $\varepsilon<\varepsilon'$ and $E<E'$ for $\varepsilon,\varepsilon'\in (0,\frac{1}{4}),E,E'\in\mathcal E$. A POSET can always be seen as a category with at most one arrow between objets. Let $Grab$ be the category of abelian groups with arrows the homomorphisms of groups.
\begin{definition}
Let $\mathcal E$ be a coarse structure. A quantitative object for $\mathcal E$ is a functor $\mathcal O :  \mathcal{\tilde E} \rightarrow Grab$.
\end{definition}

\begin{Expl}Our example will be controlled $K$-theory $(\varepsilon,E)\in\mathcal{\tilde E}\mapsto K^{\varepsilon,E}(A)$; $\tilde E <\tilde E'\mapsto \iota_{\tilde E}^{\tilde E'}$ for a filtered $C^*$-algebra $(A,\mathcal E)$.\end{Expl}

\begin{rk}For any non-decreasing map $\rho : \mathcal{\tilde E}\rightarrow \mathcal{\tilde E}$ and any quantitative object $\mathcal O$, $\mathcal O\circ \rho $ is still a quantitative object. \end{rk}

\begin{definition}Let $\mathcal E_1,\mathcal E_2$ be two coarse structures, $\mathcal O,\mathcal O'$ two quantitative objects for $\mathcal E_1$ and $\mathcal E_2$ respectively, and $\rho : \mathcal{\tilde E}_\rho\rightarrow \mathcal{\tilde E}_2$ a non-decreasing map with domain a subcategory $\mathcal{\tilde E}_\rho$ of $\mathcal{\tilde E}_1$. A $\rho$-controlled morphism is a natural transformation $\mathcal O_{|\mathcal{\tilde E}_\rho} \rightarrow \mathcal O'\circ \rho$.\end{definition}

\begin{Expl}
The following example is taken from \cite{OY2}. A control pair $(\alpha,h)$ is a positive real $\alpha>1$ and $h:(0,\frac{1}{4\alpha})\rightarrow [1,\infty)$ a function bounded above by a non-decreasing function. Define $\rho : (0,\frac{1}{4})\times\R_*^+\rightarrow \tilde{\R_*^+}$ as $\rho(\varepsilon, R)=(\alpha \epsilon,h_\varepsilon R)$, which defines a non-increasing function. Then a $(\alpha,h)$-control morphism in the sense of \cite{OY2} is a $\rho$-controlled morphism in the sense of the definition above. We will adopt the same langage and call $\rho$ the control pair of the controlled morphism.
\end{Expl}

\begin{rk}
If $(A,\mathcal E)$ and $(B,\mathcal E')$ are filtered $C^*$-algebras, $\rho$ a control pair and $\hat F : \hat K(A)\rightarrow K(B)$ a $\rho$-controlled morphism. Then $\hat F$ defines uniquely a morphism $F : K(A)\rightarrow K(B)$ by $F=\iota_{\varepsilon, E}\circ F^{\varepsilon,E}$, which is well defined because of the compatibility conditions $\iota_{\varepsilon',E'}\circ\iota_{\varepsilon,E}^{\varepsilon',E'}=\iota_{\varepsilon, E}$. 
\end{rk}

Let $\alpha,\beta,\gamma$ be control pairs such that $\alpha \text{ and }\beta\leq \gamma$. If $F$ is a $\alpha$-controlled morphism and $G$ a $\beta$-controlled morphism $\mathcal O\rightarrow \mathcal O'$, then we write $F\sim_\gamma G$ if, for all $\tilde E\in \mathcal{\tilde E}_\gamma$, the following diagram commutes :.\[\begin{tikzcd}
\mathcal O_{\tilde E} \arrow{r}{F^{\tilde E}}\arrow{d}{G_{\tilde E}} & \mathcal O'_{\alpha(\tilde E)} \arrow{d}{\iota_{\alpha(\tilde E)}^{\gamma(\tilde E)}} \\
\mathcal O'_{\beta(\tilde E)}\arrow{r}{\iota_{\beta(\tilde E)}^{\gamma(\tilde E)}} & \mathcal O'_{\gamma(\tilde E)}
\end{tikzcd}.\]

\begin{definition}Let $\gamma$ be a control pair, and $F: \mathcal O\rightarrow \mathcal O'$ a $\alpha$-controlled morphism such that $\alpha \leq \gamma$. We say that $F$ is $\gamma$-invertible if there exists a controlled morphism $G: \mathcal O'\rightarrow \mathcal O$ such that $G\circ F \sim_\gamma Id_{\mathcal O}$ and $F\circ G \sim_\gamma Id_{\mathcal O'}$. $G$ is called a $\gamma$-inverse for $F$. \end{definition}

\begin{definition}
Let, for $j\in\{00,01,10,11\}$, $\mathcal{E}_j$ be coarse structures, $\rho_{ij} :\mathcal{\tilde E}_{\rho_{ij}} \mathcal{\tilde E}_i\rightarrow \mathcal{\tilde E}_j$ control pairs, $\mathcal O_j$ quantitative object w.r.t. $\mathcal{\tilde E}_j$ and $\rho_{ij}$-controlled morphisms $F_{ij} : \mathcal O_i\rightarrow \mathcal O_j$. The following diagram
\[\begin{tikzcd}
\mathcal O_{00}\arrow{r}{F_{00}^{01}}\arrow{d}{F_{00}^{10}} & \mathcal O_{01}\arrow{d}{F_{10}^{11}} \\
\mathcal O_{10}\arrow{r}{F_{10}^{11}} & \mathcal O_{11}\\	 
\end{tikzcd}\]
is said to be $\rho$-commutative if $F_{10}^{11}\circ F_{00}^{10} \sim_\rho F_{01}^{11}\circ F_{00}^{01}$.
\end{definition}

\subsection{Controlled exact sequences}

\begin{definition}
Let $\mathcal E,\mathcal E',\mathcal E''$ be coarse structures, and $ \mathcal O,\mathcal O',\mathcal O''$ quantitative objects over them respectively, $\rho : \mathcal E\rightarrow \mathcal E'$ and $\rho' : \mathcal E'\rightarrow \mathcal E''$ control pairs. If $F : \mathcal O\rightarrow \mathcal O'$ is a $\rho$-controlled morphism and $F : \mathcal O'\rightarrow \mathcal O''$ is a $\rho'$-controlled morphism, we say that the sequence 
\[\begin{tikzcd}\mathcal O\arrow{r}{F} & \mathcal O'\arrow{r}{G} & \mathcal O''\end{tikzcd}\] 
is $\lambda$-exact at $\mathcal O'$ if $G\circ F = 0$ and for every $\tilde{ E}\in \tilde{\mathcal E}$, if $x \in \mathcal O'_{\rho (\tilde{E})}$ satisfies $G_{\rho (\tilde E)}(x)=0$, then there exist $\tilde E'\in \mathcal E$ such that $\tilde E'\geq \tilde E$ and $y\in \mathcal O_{\tilde E'}$ such that $F_{\tilde E'}(y)=\iota_{\rho(\tilde E)}^{\rho(\tilde E')}(x) $.\\

A sequence $\begin{tikzcd}[column sep = small]\mathcal O_0 \arrow{r} & O_1 \arrow{r}&... \arrow{r}& O_k\end{tikzcd}$ is $\lambda$-exact if it is $\lambda$-exact everywhere.
\end{definition}

\subsection{Examples}

Let $G$ be an Ã©tale groupoid. Then the set of open relatively compact subsets of $G$ is a coarse structure. \\

Let $\mathbb G$ be a (compact ?) quantum group (in the sense of ?). Then the set of finite dimensional representations of $\mathbb G$ is a coarse structure w.r.t. $\pi\circ \pi'=\pi\otimes \pi'$ as composition, and $\pi\leq\pi'$ if $\pi$ is equivalent to a subrepresentation of $\mathbb G$.\\

Let $G$ be a locally compact group, and $S$ be the set of representations of $G$ of the form $\lambda\otimes\pi$ for $\pi$ a finite dimensional representation of $G$.   


































